# CLI Agents Library - Development Commands

# List all available commands
default:
    @just --list

# ğŸ”¨ Build the library
build:
    @echo "ğŸ”¨ Building CLI agents library..."
    cargo build --release

# ğŸ§ª Run tests
test:
    @echo "ğŸ§ª Running tests..."
    cargo test

# ğŸ” Check code without building
check:
    @echo "ğŸ” Checking code..."
    cargo check

# ğŸ§¹ Format code
format:
    @echo "ğŸ§¹ Formatting code..."
    cargo fmt

# ğŸ” Lint code
lint:
    @echo "ğŸ” Linting code..."
    cargo clippy -- -D warnings

# ğŸš€ Run example
example:
    @echo "ğŸš€ Running example..."
    cargo run --bin example

# ğŸ Build Python bindings
python:
    @echo "ğŸ Building Python bindings..."
    cargo build --features python

# ğŸ“¦ Build Python package
python-package:
    @echo "ğŸ“¦ Building Python package..."
    python setup.py bdist_wheel

# ğŸ”„ Watch and rebuild on changes
watch:
    @echo "ğŸ”„ Watching for changes..."
    cargo watch -x "build --release"

# ğŸ”„ Watch and rebuild with Tauri integration
watch-and-build:
    @echo "ğŸ”„ Watching for changes and triggering Tauri rebuild..."
    cargo watch -x "build --release" -s "echo 'âœ… CLI agents library rebuilt'"

# ğŸ§¹ Clean build artifacts
clean:
    @echo "ğŸ§¹ Cleaning build artifacts..."
    cargo clean

# ğŸ“‹ Show library info
info:
    @echo "ğŸ“‹ CLI Agents Library Information:"
    @echo "Version: $(cargo metadata --no-deps --format-version 1 | jq -r '.packages[0].version')"
    @echo "Features: default, python"
    @echo "Target directory: target/"